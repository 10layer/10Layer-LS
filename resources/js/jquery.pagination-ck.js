/**
 * This jQuery plugin displays pagination links inside the selected elements.
 *
 * @author Gabriel Birke (birke *at* d-scribe *dot* de)
 * @version 1.2
 * @param {int} maxentries Number of entries to paginate
 * @param {Object} opts Several options (see README for documentation)
 * @return {Object} jQuery Object
 */jQuery.fn.pagination=function(e,t){t=jQuery.extend({items_per_page:10,num_display_entries:10,current_page:0,num_edge_entries:0,link_to:"#",prev_text:"Prev",next_text:"Next",ellipse_text:"...",prev_show_always:!0,next_show_always:!0,callback:function(){return!1}},t||{});return this.each(function(){function n(){return Math.ceil(e/t.items_per_page)}function r(){var e=Math.ceil(t.num_display_entries/2),r=n(),i=r-t.num_display_entries,s=o>e?Math.max(Math.min(o-e,i),0):0,u=o>e?Math.min(o+e,r):Math.min(t.num_display_entries,r);return[s,u]}function i(e,n){o=e;s();var r=t.callback(e,u);r||(n.stopPropagation?n.stopPropagation():n.cancelBubble=!0);return r}function s(){u.empty();u.append("<ul>");var e=r(),s=n(),a=function(e){return function(t){return i(e,t)}},f=function(e,n){e=e<0?0:e<s?e:s-1;n=jQuery.extend({text:e+1,classes:""},n||{});var r=null;e===o?r=jQuery("<li class='active'><a href='#'>"+n.text+"</a></li>"):r=jQuery("<li><a href='#'>"+n.text+"</a></li>").bind("click",a(e)).attr("href",t.link_to.replace(/__id__/,e));n.classes&&r.addClass(n.classes);u.find("ul").append(r)};t.prev_text&&(o>0||t.prev_show_always)&&f(o-1,{text:t.prev_text,classes:"prev"});if(e[0]>0&&t.num_edge_entries>0){var l=Math.min(t.num_edge_entries,e[0]);for(var c=0;c<l;c++)f(c);t.num_edge_entries<e[0]&&t.ellipse_text&&jQuery("<span>"+t.ellipse_text+"</span>").appendTo(u)}for(var h=e[0];h<e[1];h++)f(h);if(e[1]<s&&t.num_edge_entries>0){s-t.num_edge_entries>e[1]&&t.ellipse_text&&jQuery("<span>"+t.ellipse_text+"</span>").appendTo(u);var p=Math.max(s-t.num_edge_entries,e[1]);for(var d=p;d<s;d++)f(d)}t.next_text&&(o<s-1||t.next_show_always)&&f(o+1,{text:t.next_text,classes:"next"})}var o=t.current_page;e=!e||e<0?1:e;t.items_per_page=!t.items_per_page||t.items_per_page<0?1:t.items_per_page;var u=jQuery(this);this.selectPage=function(e){i(e)};this.prevPage=function(){if(o>0){i(o-1);return!0}return!1};this.nextPage=function(){if(o<n()-1){i(o+1);return!0}return!1};s()})};